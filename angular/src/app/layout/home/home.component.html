<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModal" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Confirm Delete</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Are you sure you want to delete this post</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="deletePost()">Delete</button>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-9">
    <h2 class="page-header text-center">Post Feed</h2>

    <div class="alert show" [ngClass]="messageClass" [class.d-none]="!message" role="alert">
      {{ message }}
      <button type="button" class="close" aria-label="Close" (click)="dismissAlert()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    <h3 *ngIf="loading && posts.length==0" class="text-center">Loading...</h3>

    <div *ngIf="!loading">
      <div *ngFor="let post of posts">
        <app-article [post]="post" [user]="user" (reload)="getPosts()" (delete)="onDelete($event)"></app-article>
      </div>
    </div>

    <app-pager [totalItems]="totalPosts" [itemsPerPage]="postService.postsPerPage" [currentPage]="page" [pagesToShow]="uiService.pagesToShow" [loading]="false"
    (goNext)="onNextPage()" (goPrev)="onPrevPage()" (goPage)="goToPage($event)"></app-pager>
  </div>

  <div *ngIf="popularPosts" class="col-md-3">
    <div class="container-fluid post">
      <div class="post-header text-center p-1">
        <h3>Popular</h3>
      </div>
      <div class="post-body p-0">
        <ul class="popular my-0">
          <li *ngFor="let popularPost of popularPosts" class="popular-item">
            <a class="post-link popular-link" [routerLink]="['/post/', popularPost._id]">
              <h5 class=my-0>{{popularPost.title}}</h5>
              <small>by <strong>{{popularPost.createdBy.username}} </strong></small>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>

</div>