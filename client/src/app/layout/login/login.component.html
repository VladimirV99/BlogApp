<h2 class="page-header text-center">Log In</h2>

<div class="row">
  <div class="col-md-8 offset-md-2">
    <div class="alert alert-danger show" [class.d-none]="!message" role="alert">
      {{ message }}
      <button
        type="button"
        class="close"
        aria-label="Close"
        (click)="dismissAlert()"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    <form [formGroup]="loginForm" (submit)="onLoginSubmit()">
      <div class="form-group">
        <label for="username">Username</label>
        <div
          [ngClass]="{
            'has-error':
              loginForm.controls.username.dirty &&
              loginForm.controls.username.errors,
            'has-success':
              loginForm.controls.username.dirty &&
              loginForm.controls.username.valid
          }"
        >
          <input
            class="form-control"
            type="text"
            name="username"
            formControlName="username"
          />

          <ul class="help-block validation-feedback">
            <li
              *ngIf="
                loginForm.controls.username.dirty &&
                loginForm.controls.username.errors?.required
              "
              class="message-error"
            >
              This field is required.
            </li>
          </ul>
        </div>
      </div>

      <div class="form-group">
        <label for="password">Password</label>
        <div
          [ngClass]="{
            'has-error':
              loginForm.controls.password.dirty &&
              loginForm.controls.password.errors,
            'has-success':
              loginForm.controls.password.dirty &&
              loginForm.controls.password.valid
          }"
        >
          <input
            class="form-control"
            type="password"
            name="password"
            formControlName="password"
          />

          <ul class="help-block validation-feedback">
            <li
              *ngIf="
                loginForm.controls.password.dirty &&
                loginForm.controls.password.errors?.required
              "
              class="message-error"
            >
              This field is required.
            </li>
          </ul>
        </div>
      </div>

      <input
        [disabled]="!loginForm.valid || processing"
        class="btn btn-primary btn-block"
        type="submit"
        value="Login"
      />
    </form>
  </div>
</div>
